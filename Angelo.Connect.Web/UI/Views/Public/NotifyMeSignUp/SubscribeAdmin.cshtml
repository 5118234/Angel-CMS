
@using Angelo.Connect.Models;

@{
    var siteId = (string)ViewData["siteId"];
    var userId = (string)ViewData["userId"];
    var redirectUrl = (string)ViewData["redirectUrl"];
}

<style>
    .center-div
    {
         margin: 0 auto;
         max-width: 700px;
    }

</style>


    <div class="container">
        <div class="row">
            <div class="col-lg-12"><h3>Notify Me:</h3></div>
        </div>
        <div class="row">
            <div class="col-lg-10">
                Select the Notification Groups you would like to begin receiving notifications from.
            </div>
            <div class="col-lg-2">
                <a id="cancelButton" class="k-button" href="#" onclick="onCancelButtonClick(); return false;">Cancel</a>
                <a id="saveButton" class="k-button" href="#" onclick="onSaveButtonClick(); return false;">Save</a>
            </div>
        </div>
        <div class="row">
            <component id="notifyMeList" type="NotifyMeList" arg-siteId="@siteId" arg-userId="@userId"></component>
        </div>
    </div>



<script>

    var onSaveButtonClick = function () {
        $("#notifyMeList").form().post();
    }

    var onCancelButtonClick = function () {
        window.location.replace("@redirectUrl");
    }

    $.on("notifyMeList.submit", function (event, data) {
        window.location.replace("@redirectUrl");
    });

</script>

